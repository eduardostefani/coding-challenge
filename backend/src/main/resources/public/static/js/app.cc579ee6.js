(function(t){function e(e){for(var s,r,o=e[0],c=e[1],l=e[2],d=0,v=[];d<o.length;d++)r=o[d],i[r]&&v.push(i[r][0]),i[r]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);u&&u(e);while(v.length)v.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,o=1;o<a.length;o++){var c=a[o];0!==i[c]&&(s=!1)}s&&(n.splice(e--,1),t=r(r.s=a[0]))}return t}var s={},i={app:0},n=[];function r(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=s,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)r.d(a,s,function(e){return t[e]}.bind(null,s));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"004f":function(t,e,a){"use strict";var s=a("d47a"),i=a.n(s);i.a},"1dce":function(t,e,a){},"281f":function(t,e,a){"use strict";var s=a("bebf"),i=a.n(s);i.a},2856:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var s=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mb-5",attrs:{id:"app"}},[a("MainHeader"),a("Search")],1)},n=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"mb-1 navbar navbar-expand-lg py-0 border-bottom",class:[t.active?"navbar-light bg-white":"navbar-dark"]},[t.active?t._e():a("a",{staticClass:"navbar-brand",attrs:{href:"#"}},[t._v("FLICKR CACHE")]),a("div",{staticClass:"navbar-collapse"},[t.active?a("div",{staticClass:"h-100 w-100 ml-5"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchTag,expression:"searchTag"}],staticClass:"form-control w-100 h-100 mx-auto border-0 px-0",attrs:{type:"text",placeholder:"Search for anything ..."},domProps:{value:t.searchTag},on:{keyup:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.search()},input:function(e){e.target.composing||(t.searchTag=e.target.value)}}})]):t._e(),a("ul",{staticClass:"navbar-nav ml-auto"},[t.active?a("li",{staticClass:"nav-item "},[a("a",{staticClass:"search-btn nav-link m-2 mr-3",class:{"text-white":!t.active},on:{click:t.search}},[a("font-awesome-icon",{attrs:{icon:"search"}})],1)]):a("li",{staticClass:"nav-item border-left"},[a("a",{staticClass:"search-btn nav-link m-2",class:{"text-white":!t.active},on:{click:t.toggleSearch}},[a("font-awesome-icon",{attrs:{icon:"search"}}),a("span",{staticClass:"ml-2"},[t._v("Search")])],1)]),a("li",{staticClass:"nav-item border-left nofitication"},[a("a",{staticClass:"nav-link m-2",class:{"text-white":!t.active}},[a("font-awesome-icon",{attrs:{icon:"bell"}}),a("span",{staticClass:"badge badge-notify text-white rounded-0"},[t._v("3")])],1)]),t._m(0)])])])},o=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item avatar"},[a("img",{staticClass:"my-2 mx-2 rounded-circle z-depth-0",attrs:{src:"static/img/avatar.png",alt:"avatar image"}})])}],c={name:"MainHeader",data:function(){return{active:!1,searchTag:""}},methods:{search:function(){var t=this;""!=this.searchTag&&(this.$root.$emit("doSearch",this.searchTag),this.searchTag="",this.$nextTick(function(){t.toggleSearch()}))},toggleSearch:function(){this.active=!this.active}}},l=c,u=(a("281f"),a("2877")),d=Object(u["a"])(l,r,o,!1,null,"45bdd4ea",null);d.options.__file="MainHeader.vue";var v=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search-wrapper"},[t.error?a("div",{staticClass:"m-5 text-danger"},[a("span",[t._v(t._s(t.error))])]):a("div",[t.isLoading?a("Loading"):t._e(),t.response?t.response&&0===t.response.totalResults?a("div",{staticClass:"m-5"},[t._v("\n      The tag you search returned no results, please try another one\n    ")]):a("div",[a("div",{staticClass:"results-wrapper px-5 text-left mt-4"},[a("div",{staticClass:"results-header px-3"},[t.tag?a("span",{staticClass:"ml-5"},[t._v('"'+t._s(t.tag)+'"')]):t._e(),a("div",{staticClass:"row border mx-5 my-2"},[a("div",{staticClass:"col-lg-6 text-left pt-3"},[a("span",{staticClass:"pl-4"},[t._v(t._s(t.viewing)+" out of "+t._s(t.response.totalResults))])]),a("div",{staticClass:"col-lg-2"},[a("a",{staticClass:"toggle-view float-right nav-link m-2",attrs:{title:"toogle list - tile results"},on:{click:t.toggleView}},[a("font-awesome-icon",{staticClass:"toggle-view",attrs:{icon:"list"}})],1)]),a("div",{staticClass:"col-lg-4 border-left text-left pt-3"},[a("span",{staticClass:"pt-3"},[t._v("SORT BY")]),a("select",{directives:[{name:"model",rawName:"v-model",value:t.sortBy,expression:"sortBy"}],staticClass:"ml-5 border-0",attrs:{name:"",id:""},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.sortBy=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"0"}},[t._v("Date posted - Newest to Oldest")]),a("option",{attrs:{value:"1"}},[t._v("Date posted - Oldest to Newest")]),a("option",{attrs:{value:"6"}},[t._v("Relevance")])])])])])]),a("Results",{attrs:{items:t.response.items,total:t.response.totalResults,viewAs:t.viewAs}}),a("Pagination",{attrs:{totalPages:t.response.totalPages,currentPage:t.currentPage,perPage:12}})],1):a("div",{staticClass:"m-5"},[t._v("\n      Start searching by clicking in the Search button on the top right\n    ")])],1)])},f=[],h=(a("386d"),a("bc3a")),g=a.n(h),m=g.a.create({baseURL:"/api"}),b=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},_=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"overlay"}},[a("img",{attrs:{src:"static/img/loader.gif",alt:"Loading"}}),a("br")])}],C={name:"Loading"},w=C,P=(a("004f"),Object(u["a"])(w,b,_,!1,null,"986dbf4a",null));P.options.__file="Loading.vue";var x=P.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid px-3 pt-3"},[a("div",{staticClass:"results-wrapper px-5"},[1===t.viewAs?a("div",{staticClass:"list-wrapper border border-bottom-0 mx-5 my-3 bg-white"},[t._l(t.items,function(e){return[a("div",{staticClass:"row my-3"},[a("div",{staticClass:"col-md-2"},[a("img",{attrs:{src:e.image,width:"140",height:"100"}})]),a("div",{staticClass:"col-md-9 ml-2 text-left w-100"},[a("div",{staticClass:"row mb-2"},[e.title?a("span",[t._v(t._s(e.title))]):a("span",{staticClass:"title-unavailable"},[t._v("Title unavailable")])]),e.description?a("div",{staticClass:"row mb-2"},[a("span",{staticClass:"card-text",domProps:{innerHTML:t._s(e.description)}})]):t._e(),e.datePosted?a("div",{staticClass:"row mb-2"},[a("span",{staticClass:"card-text"},[t._v("Posted date: "+t._s(e.datePosted))])]):t._e()])]),a("hr",{staticClass:"w-100"})]})],2):a("div",{staticClass:"row m-5 tile-wrapper"},[t._l(t.items,function(e){return[a("div",{staticClass:"col-md-4 col-lg-2 mb-4 px-2"},[a("div",{staticClass:"card"},[a("img",{staticClass:"card-img-top",attrs:{src:e.image,height:"120"}}),a("div",{staticClass:"card-body text-left"},[e.title?a("span",{staticClass:"card-title"},[t._v(t._s(e.title))]):a("span",{staticClass:"card-title title-unavailable"},[t._v("Title unavailable")]),a("span",{staticClass:"card-text"},[t._v("Posted date: "+t._s(e.datePosted))])])])])]})],2)])])},k=[],S={name:"Results",props:["items","total","viewAs"]},T=S,$=(a("d246"),Object(u["a"])(T,y,k,!1,null,"0f55b1e0",null));$.options.__file="Results.vue";var O=$.exports,j=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.totalPages>1?a("div",{staticClass:"mx-5 d-flex justify-content-center"},[a("nav",[a("ul",{staticClass:"pagination"},[t._m(0),t._l(t.pagesToRender,function(e){return[a("li",{staticClass:"page-item",class:{"active-page":e==t.currentPage}},[a("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(a){t.selectPage(e)}}},[t._v(t._s(e))])])]}),t._m(1)],2)])]):t._e()},L=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"page-item disabled"},[a("a",{staticClass:"page-link border-0",attrs:{href:"#",tabindex:"-1"}},[t._v("<")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"page-item"},[a("a",{staticClass:"page-link border-0",attrs:{href:"#"}},[t._v(">")])])}],R={name:"Pagination",props:["currentPage","totalPages","perPage"],data:function(){return{searchTag:"ALOU",firstPage:1}},methods:{selectPage:function(t){this.$root.$emit("changePage",t)}},computed:{pagesToRender:function(){var t=[],e=10,a=Math.ceil(e/2)-1;this.currentPage+a>=this.totalPages?e>this.totalPages?this.firstPage=1:this.firstPage=this.totalPages-e+1:this.currentPage-a<1?this.firstPage=1:this.firstPage=this.currentPage-a;for(var s=0;s<e;s++){if(s>this.totalPages-1)break;t.push(this.firstPage+s)}return t}}},A=R,E=(a("7e8d"),Object(u["a"])(A,j,L,!1,null,"3a8efeb1",null));E.options.__file="Pagination.vue";var M=E.exports,B={name:"Search",components:{Loading:x,Results:O,Pagination:M},data:function(){return{isLoading:!1,response:null,error:null,tag:"",perPage:12,currentPage:1,sortBy:0,viewAs:1}},watch:{sortBy:function(){this.page=1,this.search(this.tag)}},mounted:function(){this.$root.$on("doSearch",this.search),this.$root.$on("changePage",this.changePage)},methods:{changePage:function(t){this.currentPage=t,this.search(this.tag)},search:function(t){var e=this;this.error=null,this.isLoading=!0,this.tag=t;var a=new URLSearchParams;a.append("search",this.tag),a.append("page",this.currentPage),a.append("sort",this.sortBy),m.get("/search",{params:a}).then(function(t){e.response=t.data}).catch(function(t){e.error=t.response.data}).then(function(){e.isLoading=!1})},toggleView:function(){this.viewAs=1===this.viewAs?2:1}},computed:{viewing:function(){return this.response.items.length}}},H=B,N=(a("9f26"),Object(u["a"])(H,p,f,!1,null,"6f5113a8",null));N.options.__file="Search.vue";var U=N.exports,D={name:"app",components:{MainHeader:v,Search:U}},F=D,I=(a("5c0b"),Object(u["a"])(F,i,n,!1,null,null,null));I.options.__file="App.vue";var J=I.exports,V=a("9f7b"),z=(a("f9e3"),a("2dd8"),a("ecee")),K=a("c074"),Y=a("7a55");z["library"].add(K["c"],K["a"],K["b"]),s["a"].component("font-awesome-icon",Y["FontAwesomeIcon"]),s["a"].config.productionTip=!1,s["a"].use(V["a"]),new s["a"]({render:function(t){return t(J)}}).$mount("#app")},"59eb":function(t,e,a){},"5c0b":function(t,e,a){"use strict";var s=a("2856"),i=a.n(s);i.a},"7e8d":function(t,e,a){"use strict";var s=a("1dce"),i=a.n(s);i.a},9908:function(t,e,a){},"9f26":function(t,e,a){"use strict";var s=a("59eb"),i=a.n(s);i.a},bebf:function(t,e,a){},d246:function(t,e,a){"use strict";var s=a("9908"),i=a.n(s);i.a},d47a:function(t,e,a){}});
//# sourceMappingURL=app.cc579ee6.js.map